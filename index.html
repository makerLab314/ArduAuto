<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roboter-Programmierer v3.4 - Experten-Edition</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-okaidia.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css">
    
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- Container für Toast-Benachrichtigungen -->
    <div id="toast-container"></div>

    <div class="container">
        <header>
            <h1><i class="fa-solid fa-graduation-cap"></i> Roboter-Programmierer 3.0</h1>
            <p>Für die Projektwoche 2025 an der FWS</p>
        </header>

        <main class="main-layout">
            <!-- Linke Spalte: Verfügbare Bausteine -->
            <aside id="baustein-palette">
                <h2>Verfügbare Bausteine</h2>
                
                <div class="kategorie">
                    <h3><i class="fa-solid fa-car-side"></i> FAHREN</h3>
                    <div class="baustein" data-type="vorwaerts_schnell">vorwaerts_schnell();</div>
                    <div class="baustein" data-type="vorwaerts_langsam">vorwaerts_langsam();</div>
                    <div class="baustein" data-type="rueckwaerts">rueckwaerts();</div>
                    <div class="baustein stopp" data-type="stopp">stopp();</div>
                </div>

                <div class="kategorie">
                    <h3><i class="fa-solid fa-arrows-rotate"></i> LENKEN</h3>
                    <div class="baustein" data-type="drehe_rechts">drehe_rechts();</div>
                    <div class="baustein" data-type="drehe_links">drehe_links();</div>
                </div>

                <div class="kategorie">
                    <h3><i class="fa-solid fa-hourglass-half"></i> WARTEN / ZEIT</h3>
                    <div class="baustein warten" data-type="warten">
                        ausfuer_dauer(<input type="text" value="1" class="warten-input">);
                    </div>
                </div>

                <div class="kategorie">
                    <h3><i class="fa-solid fa-comment-dots"></i> DOKUMENTATION</h3>
                    <div class="baustein kommentar" data-type="kommentar">
                        <i class="fa-solid fa-comment"></i>
                        <textarea placeholder="Dein Kommentar hier..."></textarea>
                    </div>
                </div>
            </aside>

            <!-- Rechte Spalte: Der Programmablauf und Aktionen -->
            <section id="programm-bereich-container">
                <div class="programm-header">
                    <h2>Dein Programmablauf</h2>
                    <div class="top-actions">
                        <button id="undo-btn" title="Rückgängig (Strg+Z)"><i class="fa-solid fa-undo"></i></button>
                        <button id="redo-btn" title="Wiederholen (Strg+Y)"><i class="fa-solid fa-redo"></i></button>
                        <button id="save-btn" title="Programm speichern"><i class="fa-solid fa-floppy-disk"></i></button>
                        <button id="load-btn" title="Programm laden"><i class="fa-solid fa-folder-open"></i></button>
                        <div class="dropdown">
                            <button class="dropdown-btn"><i class="fa-solid fa-lightbulb"></i> Beispiele</button>
                            <div class="dropdown-content">
                                <a href="#" data-example="quadrat">Fahre ein Quadrat</a>
                                <a href="#" data-example="pendel">Vor und zurück</a>
                                <a href="#" data-example="tanz">Kleiner Tanz</a>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="programm-ablauf" class="dropzone">
                    <!-- Blöcke werden hier per JS eingefügt -->
                </div>
                <div class="action-buttons">
                    <button id="generate-btn"><i class="fa-solid fa-cogs"></i> Arduino-Code generieren</button>
                    <button id="clear-btn" class="danger-btn"><i class="fa-solid fa-trash-alt"></i> Alles Löschen</button>
                </div>
            </section>
        </main>
        
        <section id="code-output-bereich">
            <h2>Generierter Arduino-Code (.ino)</h2>
            <div class="code-container">
                <div class="code-header">
                    <span>fahrprogramm.ino</span>
                    <button id="copy-btn"><i class="fa-regular fa-clipboard"></i> <span>Kopieren</span></button>
                </div>
                <pre class="line-numbers"><code id="code-output" class="language-cpp"></code></pre>
            </div>
        </section>
    </div>

    <!-- Externe Bibliotheken -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.15.0/Sortable.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    
    <!-- Haupt-Skript -->
    <script src="script.js"></script>
</body>
</html>